<!DOCTYPE html>
<html>
  <head>
    <title>Title</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <style type="text/css">
      @import url(http://fonts.googleapis.com/css?family=Yanone+Kaffeesatz);
      @import url(http://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic);
      @import url(http://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);

      body { font-family: 'Droid Serif'; }
      h1, h2, h3 {
        font-family: 'Yanone Kaffeesatz';
        font-weight: normal;
      }
      .remark-code, .remark-inline-code { font-family: 'Ubuntu Mono'; }
    </style>
  </head>
  <body>
    <textarea id="source">

class: center, middle

# How to Package for Haskell using Cabal

---

# What is Cabal ?
## Its kinda like pip combined with setup.py
## But its better

---

# Basic Cabal Commands
## ❯ cabal init
### Generate a new project
## ❯ cabal update
### Grab the latest package list
## ❯ cabal install
### Install the current project and its dependencies

---

# Lets make a package
```
❯ cabal init
    . Cabal
    . Asks you
    . Questions

❯ ls
HaskellPackaging.cabal  haskell-packaging.html  main.hs  Setup.hs
```

---

# Deeper look into HaskellPackaging.cabal
```
-- Initial HaskellPackaging.cabal generated by cabal init.  For further 
-- documentation, see http://haskell.org/cabal/users-guide/

name:                HaskellPackaging
version:             0.1.0.0
synopsis:            An example project
-- description:         
homepage:            https://github.com/rossdylan/presentations
license:             MIT
license-file:        LICENSE
author:              Ross Delinger
maintainer:          rossdylan@csh.rit.edu
```

---

# Deeper look continued
```
-- copyright:           
category:            Example Application
build-type:          Simple
cabal-version:       >=1.8

executable HaskellPackaging
  main-is: main.hs
  -- other-modules:       
  build-depends:       base ==4.6.*,haskell-zmq,bytestring
```

---
# Lets install our package
```
❯ cabal install
 Resolving dependencies...
 Configuring HaskellPackaging-0.1.0.0...
 Building HaskellPackaging-0.1.0.0...
 Preprocessing executable 'HaskellPackaging' for HaskellPackaging-0.1.0.0...
 Installing executable(s) in /home/rossdylan/.cabal/bin
 Installed HaskellPackaging-0.1.0.0
```
# This is roughly equivalent to python setup.py install

---

# Lets actually package this thing
## First lets make sure our package doesn't have any mistakes
```
❯ cabal check
These warnings may cause trouble when distributing the package:
* No 'description' field.
```
### Woops I forgot to add a description field in the .cabal file
### Oh well

---

# Lets actually package this thing
## Time to make a source tarball
```
❯ cabal sdist
Distribution quality warnings:
No 'description' field.
Building source dist for HaskellPackaging-0.1.0.0...
Preprocessing executable 'HaskellPackaging' for HaskellPackaging-0.1.0.0...
Source tarball created: dist/HaskellPackaging-0.1.0.0.tar.gz
```

---
# Now lets upload it to hackage

![This part seems kinda silly](hackage-upload.png)

---
# Thats it!
## You can now install with
```
❯ abal install HaskellPackaging
```

---

## There are lots of other neat things you can do with cabal
## Such as:

* Testing
* documentation
* and more
* sandboxing

## Checkout out http://www.haskell.org/haskellwiki/How_to_write_a_Haskell_program for more info
</script>

    </textarea>

    <script src="http://gnab.github.io/remark/downloads/remark-latest.min.js" type="text/javascript">
    </script>
    <script type="text/javascript">
      var slideshow = remark.create();
    </script>
  </body>
</html>
